<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Dashboard</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap');
body{font-family:'Orbitron',sans-serif;background:linear-gradient(135deg,#0f001f,#2c003e);color:#fff;margin:0;padding:0;overflow-x:hidden;}
header{text-align:center;padding:2em;background:rgba(40,0,80,0.85);box-shadow:0 0 30px #ff00ff;border-bottom:2px solid #ff00ff;}
header h1{font-size:3em;color:#ff00ff;text-shadow:0 0 10px #ff00ff,0 0 20px #ff6eff;margin:0;}
.card{background:rgba(20,0,40,0.85);padding:40px;margin:2em auto;border-radius:25px;width:90%;max-width:800px;box-shadow:0 0 30px #ff6eff,0 0 60px #ff00ff;transition:transform 0.4s, box-shadow 0.4s;}
.card:hover{transform:translateY(-10px);box-shadow:0 0 40px #ff6eff,0 0 80px #ff00ff;}
.order{background:rgba(50,0,80,0.85);padding:20px;border-radius:20px;margin-bottom:20px;backdrop-filter:blur(5px);box-shadow:0 0 15px #ff6eff,0 0 30px #ff00ff;transition:transform 0.3s,box-shadow 0.3s;}
.order:hover{transform:translateY(-5px);box-shadow:0 0 25px #ff6eff,0 0 50px #ff00ff;}
.btn-small{background:linear-gradient(90deg,#ff6eff,#ff00ff);color:#fff;border:none;padding:10px 20px;border-radius:12px;cursor:pointer;margin:5px 2px;font-weight:700;font-size:0.9em;transition:transform 0.3s,box-shadow 0.3s;}
.btn-small:hover{transform:scale(1.05);box-shadow:0 0 15px #ff00ff,0 0 30px #ff6eff;}
@media(max-width:600px){header h1{font-size:2.2em;}.card{padding:25px;}.btn-small{padding:8px 16px;font-size:0.8em;}}
</style>
</head>
<body>
<header><h1>Admin Dashboard</h1></header>
<section class="card">
<h2>Orders</h2>
<div id="orders"></div>
</section>
<script>
async function loadOrders(){const res=await fetch('/functions/get-orders');return await res.json();}
async function renderOrders(){const orders=await loadOrders();const container=document.getElementById('orders');container.innerHTML='';orders.forEach(order=>{const div=document.createElement('div');div.className='order';div.innerHTML=`<strong>ID:</strong> ${order.id}<br><strong>Email:</strong> ${order.email}<br><strong>Discord:</strong> ${order.discord}<br><strong>Platform:</strong> ${order.platform}<br><strong>Package:</strong> ${order.package}<br><strong>Transfer Method:</strong> ${order.transferMethod}<br><strong>Status:</strong> ${order.status}<br><strong>Date:</strong> ${new Date(order.created).toLocaleString()}<br><button onclick="markCompleted('${order.id}')" class="btn-small">Mark Completed</button><button onclick="confirmDeleted('${order.id}')" class="btn-small">Confirm Credentials Deleted</button><hr>`;container.appendChild(div);});}
async function markCompleted(id){await fetch('/functions/update-order',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({id,action:'completed'})});renderOrders();}
async function confirmDeleted(id){await fetch('/functions/update-order',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({id,action:'deleted'})});renderOrders();}
renderOrders();
</script>
</body>
</html>
